# UC1 - Register Organization

## 1. Requirements Engineering

### Brief Format

The unregistered user starts registering an organization. The system requests the necessary data about the organization (i.e. organization name, NIF, postal address, telephone contact, web address, email) and the employee (i.e. manager) who is registering (i.e. name, function, telephone contact and email). The unregistered user enters the requested data. The system validates and displays the data, asking you to confirm it. The unregistered user confirms it. The system records the data of the organization and its employee /manager, making the latter a registered user, **sending you your password (generated by the system) by email** and informs the unregistered user of the success of the operation.

### SSD
! [UC1_SSD.svg] (UC1_SSD.svg)

### Full Format

#### Lead actor

Unregistered User

#### Stakeholders and their interests
* **Unregistered User:** you want to register the organization you belong to so that you can take advantage of the features provided by the platform.
* **T4J:** you want the organization concerned to register to use the platform.

#### Preconditions
n/a

#### Post-conditions
* Organization information is stored in the system.
* The manager's information is stored in the system.
* A user is created on the platform for the Manager.
* An email is sent to the Manager with the access information to the platform.

#### Main success scenario (or basic stream)

1. The unregistered user initiates the registration of an organization.
2. The system requests the necessary data about the organisation (i.e. organization name, NIF, postal address, telephone contact, web address, email) and the employee (i.e. manager) who is registering (i.e. name, function, telephone contact, email and pwd).
3. The unregistered user enters the requested data.
4. The system validates and displays the data, asking you to confirm it.
5. The unregistered user confirms.
6. The system records the data of the organization and its employee/manager, making the latter a registered user, **sending you your password (generated by the system) by email** and informs the unregistered user of the success of the operation.

#### Extensions (or alternate streams)

*a. The unregistered user requests the cancellation of registration.

> The use case ends.

4th. Incomplete Postal Address Data.
> one. The system tells you which data is missing.
> two. The system allows the input of missing data (step 3)
>
	> 2a. The unregistered user does not change the data. The use case ends.

Four b. Mandatory minimum data missing.
> one. The system tells you which data is missing.
> two. The system allows the input of missing data (step 3)
>
	> 2a. The unregistered user does not change the data. The use case ends.

4c. The system finds that the **NIF or email** entered must be unique and that they already exist in the system.
> one. The system alerts the unregistered user to this fact.
> two. The system allows you to change (step 3)
>
	> 2a. The unregistered user does not change the data. The use case ends.

#### Special requirements
- The manager's password is generated by an external algorithm.

#### List of Technology and Data Variations
-

#### Frequency of Occurrence
-

#### Open questions

* Are there other mandatory data other than those already known?
* ~~What data can we jointly detect the duplication of organizations (and managers)?~~
* Is there a need for an additional security mechanism to confirm that the organisation exists and is represented by the person who registered it?
* ~~What are the security rules applicable to the password?~~
* How often does this use case occur?

## 2. OO Analysis

### Excerpt from the Domain Model Relevant to the UC

! [UC1_MD.svg] (UC1_MD.svg)

## 3. Design - Realization of the Use Case

### Rational

| Main Flow | Question: What Class... | Answer | Justification |
|:--------------  |:---------------------- |:----------|:---------------------------- |
|1. The unregistered user initiates the registration of an organization.| ... interacts with the user?| RegisterOrganizacaoUI | Pure Fabrication|
| |... coordinates the UC?| RegisterOrganizationController | Controller|
| |... creates instances of Organization?| RegistrationOrganizations| By applying creator (R1) would be the "Platform". But by applying HC+LC to the "Platform", it delegates this responsibility to the "Organization Register".|
|2. The system requests the necessary data about the organization (i.e. organization name, NIF, postal address, telephone contact, web address, email) and the employee (i.e. manager) who is registering (i.e. name, function, telephone contact, email and pwd).||||
|3. The unregistered user enters the requested data. |... saves the data entered?| Organization, EnderecoPostal, Collaborator| IE: Instance created in step 1|
| |... creates instances of AddressPostal?| Organization|creator(rule1)|
| |... creates Contributor instances?| Organization|creator(rule1)|
|4. The system validates and displays the data, asking you to confirm it. |... validates the organization's data (local validation)| Organization| IE: Ownyour own data|
| |... validates postal address data (local validation)| AddressPostal| IE: Ownyour own data|
| |... validates the Contributor's data (local validation)| Collaborator| IE: Ownyour own data|
| |... validates the organization's data (global validation)| RegistrationOrganizations| IE: The Organization Register has registered Organization|
|5. The unregistered user confirms it. ||||
|6. The system records the data of the organization and its employee/manager, making the latter a registered user, **sending you your password (generated by the system) by email** and informs the unregistered user of the success of the operation.| ... guard the organization created?| RegistrationOrganizations | IE: By applying HC+LC to the Platform|
| |... generates the password| AlgorithmGeneratorPasswords| Protected Variation|
| |... registers/guards the User regarding the Employee of the Organization?| AutorizacaoFacade| Ie. User management is the responsibility of the respective external component whose point of interaction is through the "AutorizacaoFacade" class|
| |... sends the manager's email| RegistrationOrganizations| IE: Detain the necessary information.|

### Systematization ##

From the rational it follows that the conceptual classes promoted to software classes are:

* Platform
* Organization
* Collaborator
* AddressPostal
* AlgorithmGeneratorPasswords

Other software classes (i.e. Pure Fabrication) identified:

* RegisterOrganizationUI
* RegisterOrganizationController
* Authorizationfacade (user management component)
* RegistrationOrganizations

### Sequence Diagram

! [UC1_SD.svg] (UC1_SD.svg)

! [UC1_SD_User.svg] (UC1_SD_User.svg)

### Class Diagram

! [UC1_CD.svg] (UC1_CD.svg)

---
