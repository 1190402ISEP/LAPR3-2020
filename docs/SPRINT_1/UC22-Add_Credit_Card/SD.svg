<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="634px" preserveAspectRatio="none" style="width:1402px;height:634px;" version="1.1" viewBox="0 0 1402 634" width="1402px" zoomAndPan="magnify"><defs><filter height="300%" id="fuebkuxlbu32j" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#FFFFFF" filter="url(#fuebkuxlbu32j)" height="431.7734" style="stroke:#A80036;stroke-width:1.0;" width="10" x="21" y="99.6094"/><rect fill="#FFFFFF" filter="url(#fuebkuxlbu32j)" height="30.3516" style="stroke:#A80036;stroke-width:1.0;" width="10" x="308" y="121.9609"/><rect fill="#FFFFFF" filter="url(#fuebkuxlbu32j)" height="348.7188" style="stroke:#A80036;stroke-width:1.0;" width="10" x="308" y="182.6641"/><rect fill="#FFFFFF" filter="url(#fuebkuxlbu32j)" height="288.0156" style="stroke:#A80036;stroke-width:1.0;" width="10" x="589" y="213.0156"/><rect fill="#FFFFFF" filter="url(#fuebkuxlbu32j)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1001.5" y="289.9766"/><rect fill="#FFFFFF" filter="url(#fuebkuxlbu32j)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1136.5" y="350.3281"/><rect fill="#FFFFFF" filter="url(#fuebkuxlbu32j)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1260.5" y="410.6797"/><rect fill="#FFFFFF" filter="url(#fuebkuxlbu32j)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1348.5" y="471.0313"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="26" x2="26" y1="89.6094" y2="549.3828"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="313" x2="313" y1="89.6094" y2="549.3828"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="594" x2="594" y1="89.6094" y2="549.3828"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="886" x2="886" y1="254.3203" y2="549.3828"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1006" x2="1006" y1="89.6094" y2="549.3828"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1141" x2="1141" y1="89.6094" y2="549.3828"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1265" x2="1265" y1="89.6094" y2="549.3828"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1353" x2="1353" y1="89.6094" y2="549.3828"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="36" x="5" y="86.5332">Client</text><ellipse cx="26" cy="15" fill="#FEFECE" filter="url(#fuebkuxlbu32j)" rx="8" ry="8" style="stroke:#A80036;stroke-width:2.0;"/><path d="M26,23 L26,50 M13,31 L39,31 M26,50 L13,65 M26,50 L39,65 " fill="none" filter="url(#fuebkuxlbu32j)" style="stroke:#A80036;stroke-width:2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="36" x="5" y="562.916">Client</text><ellipse cx="26" cy="575.9922" fill="#FEFECE" filter="url(#fuebkuxlbu32j)" rx="8" ry="8" style="stroke:#A80036;stroke-width:2.0;"/><path d="M26,583.9922 L26,610.9922 M13,591.9922 L39,591.9922 M26,610.9922 L13,625.9922 M26,610.9922 L39,625.9922 " fill="none" filter="url(#fuebkuxlbu32j)" style="stroke:#A80036;stroke-width:2.0;"/><rect fill="#FEFECE" filter="url(#fuebkuxlbu32j)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="124" x="249" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="110" x="256" y="74.5332">:AddCreditCardUI</text><rect fill="#FEFECE" filter="url(#fuebkuxlbu32j)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="124" x="249" y="548.3828"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="110" x="256" y="569.916">:AddCreditCardUI</text><rect fill="#FEFECE" filter="url(#fuebkuxlbu32j)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="174" x="505" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="160" x="512" y="74.5332">:AddCreditCardController</text><rect fill="#FEFECE" filter="url(#fuebkuxlbu32j)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="174" x="505" y="548.3828"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="160" x="512" y="569.916">:AddCreditCardController</text><rect fill="#FEFECE" filter="url(#fuebkuxlbu32j)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="115" x="827" y="548.3828"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="101" x="834" y="569.916">card:CreditCard</text><rect fill="#FEFECE" filter="url(#fuebkuxlbu32j)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="97" x="956" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="83" x="963" y="74.5332">:UserSession</text><rect fill="#FEFECE" filter="url(#fuebkuxlbu32j)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="97" x="956" y="548.3828"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="83" x="963" y="569.916">:UserSession</text><rect fill="#FEFECE" filter="url(#fuebkuxlbu32j)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="145" x="1067" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="131" x="1074" y="74.5332">session:UserSession</text><rect fill="#FEFECE" filter="url(#fuebkuxlbu32j)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="145" x="1067" y="548.3828"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="131" x="1074" y="569.916">session:UserSession</text><rect fill="#FEFECE" filter="url(#fuebkuxlbu32j)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="75" x="1226" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="61" x="1233" y="74.5332">user:User</text><rect fill="#FEFECE" filter="url(#fuebkuxlbu32j)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="75" x="1226" y="548.3828"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="61" x="1233" y="569.916">user:User</text><rect fill="#FEFECE" filter="url(#fuebkuxlbu32j)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="73" x="1315" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="59" x="1322" y="74.5332">:ClientDB</text><rect fill="#FEFECE" filter="url(#fuebkuxlbu32j)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="73" x="1315" y="548.3828"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="59" x="1322" y="569.916">:ClientDB</text><rect fill="#FFFFFF" filter="url(#fuebkuxlbu32j)" height="431.7734" style="stroke:#A80036;stroke-width:1.0;" width="10" x="21" y="99.6094"/><rect fill="#FFFFFF" filter="url(#fuebkuxlbu32j)" height="30.3516" style="stroke:#A80036;stroke-width:1.0;" width="10" x="308" y="121.9609"/><rect fill="#FFFFFF" filter="url(#fuebkuxlbu32j)" height="348.7188" style="stroke:#A80036;stroke-width:1.0;" width="10" x="308" y="182.6641"/><rect fill="#FFFFFF" filter="url(#fuebkuxlbu32j)" height="288.0156" style="stroke:#A80036;stroke-width:1.0;" width="10" x="589" y="213.0156"/><rect fill="#FFFFFF" filter="url(#fuebkuxlbu32j)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1001.5" y="289.9766"/><rect fill="#FFFFFF" filter="url(#fuebkuxlbu32j)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1136.5" y="350.3281"/><rect fill="#FFFFFF" filter="url(#fuebkuxlbu32j)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1260.5" y="410.6797"/><rect fill="#FFFFFF" filter="url(#fuebkuxlbu32j)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1348.5" y="471.0313"/><polygon fill="#A80036" points="296,117.9609,306,121.9609,296,125.9609,300,121.9609" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="31" x2="302" y1="121.9609" y2="121.9609"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="7" x="38" y="117.1045">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="227" x="49" y="117.1045">The client starts adding new credit card</text><polygon fill="#A80036" points="42,148.3125,32,152.3125,42,156.3125,38,152.3125" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="36" x2="312" y1="152.3125" y2="152.3125"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="7" x="48" y="147.4561">2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="242" x="59" y="147.4561">requests data (number, cvv, expirate date)</text><polygon fill="#A80036" points="296,178.6641,306,182.6641,296,186.6641,300,182.6641" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="31" x2="302" y1="182.6641" y2="182.6641"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="7" x="38" y="177.8076">3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="83" x="49" y="177.8076">insert the data</text><polygon fill="#A80036" points="577,209.0156,587,213.0156,577,217.0156,581,213.0156" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="318" x2="583" y1="213.0156" y2="213.0156"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="7" x="325" y="208.1592">4</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="241" x="336" y="208.1592">newCreditCard(number, cvv, expirateDate)</text><polygon fill="#A80036" points="815,239.3672,825,243.3672,815,247.3672,819,243.3672" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="599" x2="821" y1="243.3672" y2="243.3672"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="7" x="606" y="238.5107">5</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="193" x="617" y="238.5107">create(number, cvv, expirateDate)</text><rect fill="#FEFECE" filter="url(#fuebkuxlbu32j)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="115" x="827" y="221.0156"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="101" x="834" y="242.5488">card:CreditCard</text><polygon fill="#A80036" points="989.5,285.9766,999.5,289.9766,989.5,293.9766,993.5,289.9766" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="599" x2="995.5" y1="289.9766" y2="289.9766"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="7" x="606" y="285.1201">6</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="161" x="617" y="285.1201">session = getUserSession()</text><polygon fill="#A80036" points="1124.5,346.3281,1134.5,350.3281,1124.5,354.3281,1128.5,350.3281" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="599" x2="1130.5" y1="350.3281" y2="350.3281"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="7" x="606" y="345.4717">7</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="94" x="617" y="345.4717">user = getUser()</text><polygon fill="#A80036" points="1248.5,406.6797,1258.5,410.6797,1248.5,414.6797,1252.5,410.6797" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="599" x2="1254.5" y1="410.6797" y2="410.6797"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="7" x="606" y="405.8232">8</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="133" x="617" y="405.8232">email = getUserEmail()</text><polygon fill="#A80036" points="1336.5,467.0313,1346.5,471.0313,1336.5,475.0313,1340.5,471.0313" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="599" x2="1342.5" y1="471.0313" y2="471.0313"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="7" x="606" y="466.1748">9</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="156" x="617" y="466.1748">newCreditCard(card, email)</text><polygon fill="#A80036" points="37,527.3828,27,531.3828,37,535.3828,33,531.3828" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="31" x2="312" y1="531.3828" y2="531.3828"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="14" x="43" y="526.5264">10</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="94" x="61" y="526.5264">process finished</text><!--MD5=[ddfc2eb496a04796defbd3e833369391]
@startuml
autonumber

actor "Client" as CLI

participant ":AddCreditCardUI" as UI
participant ":AddCreditCardController" as CTRL
participant "card:CreditCard" as CARD
participant ":UserSession" as US
participant "session:UserSession" as S
participant "user:User" as U
participant ":ClientDB" as DB


activate CLI
CLI -> UI: The client starts adding new credit card
activate UI

CLI <- - UI: requests data (number, cvv, expirate date)

deactivate UI

CLI -> UI: insert the data

activate UI

UI -> CTRL: newCreditCard(number, cvv, expirateDate)

activate CTRL



CTRL - -> CARD**: create(number, cvv, expirateDate)

CTRL -> US: session = getUserSession()
activate US
deactivate US

CTRL -> S: user = getUser()

activate S
deactivate S
 CTRL -> U: email = getUserEmail()
 
 activate U
 deactivate U
 
 CTRL -> DB: newCreditCard(card, email)
 
 activate DB
 deactivate DB
 
 deactivate CTRL
 
 CLI <- - UI: process finished
 
 deactivate UI
 
 deactivate CLI






@enduml

PlantUML version 1.2020.23(Sun Dec 13 19:14:58 GMT 2020)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: Cp1252
Language: pt
Country: PT
--></g></svg>